<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>注文履歴</title>
<link rel="stylesheet" th:href="@{/css/piza.css}">
<link rel="stylesheet" th:href="@{/css/bootstrap.css}">
<link th:href="@{/css/PaginateMyTable.css}" rel="stylesheet">
</head>
<body>
	<div class="container">
		<div th:include="fragment_header::frag_header">
		</div>
				<div class="row">
			<div
				class="table-responsive col-lg-offset-1 col-lg-10 col-md-offset-1 col-md-10 col-sm-10 col-xs-12">
				<h3 class="text-center">注文履歴</h3>
			<h4 th:if="${orderList.size()==0}" class="text-center">現在、お客様の注文履歴情報はありません。</h4>
			<div th:unless="${orderList.size()==0}">
				<table class="table table-striped item-list-table">
					<tbody>
						<tr>
							<th>
								<div class="text-center">
									注文日時
								</div>
							</th>
							<th>
								<div class="text-center">
									注文商品
								</div>
							</th>
							<th>
								<div class="text-center">
									小計
								</div>
							</th>
							<th>
								<div class="text-center">
									税込価格
								</div>
							</th>
							<th>
								<div class="text-center">
									現在の状態
								</div>
							</th>
						</tr>
						<tr th:each="order:${orderList}">
							<td>
								<div class="text-center">
									<a th:text="${order.orderDate==null?'未入力':order.orderDate}" th:href="@{'/showHistoryDetail?id='+${order.id}}" style="text-decoration: underline;">2020-07-04</a>
								</div>
							</td>
							<td>
									<ul>
										<li th:each="orderItem:${order.orderItemList}" th:text="${orderItem.item.name}">カレー</li>
									</ul>
							</td>
							<td>
								<div class="text-center" th:text="${order.totalPrice}+'円'">
									2,800円
								</div>
							</td>
							<td>
								<div class="text-center" th:text="${order.calcTotalPrice}+'円'">
									3,080円
								</div>
							</td>
							<td>
								<div class="text-center" th:if="${order.status==1}" th:text="未入金"></div>
								<div class="text-center" th:if="${order.status==2}" th:text="入金済"></div>
								<div class="text-center" th:if="${order.status==3}" th:text="発送済"></div>
								<div class="text-center" th:if="${order.status==4}" th:text="発送完了"></div>
							</td>
						</tr>
					</tbody>
				</table>
				</div>
			</div>
		</div>
	</div>
	<!-- end container -->
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script th:src="@{/js/bootstrap.min.js}"></script>
	<script th:src="@{/js/PaginateMyTable.js}"></script>
	<script>
	$(document).ready(function() {
		$(".table").paginate({
			rows: 9
		});
	});
	</script>
</body>
</html>
